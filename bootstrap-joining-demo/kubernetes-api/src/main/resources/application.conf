akka {

  actor {
    provider = "cluster"
  }

  discovery {
    # pick the discovery method you'd like to use:
    method = udp-broadcast
    #method = config
    config {
      services {
        my-cluster {
          endpoints = [
            {
              host = "127.0.0.1"
            },
            {
              host = "127.0.0.2"
            }
            {
              host = "127.0.0.3"
            }
          ]
        }
      }
    }

    udp-broadcast = {
      class = "akka.discovery.udp.UdpBroadcastDiscovery"
    }
  }

  management {
    http {
      port = 8558
    }

    cluster.bootstrap {
      contact-point-discovery {
        service-name = "my-cluster"
        service-namespace = ""
        stable-margin = 5 seconds
      }

      contact-point {
        # currently this port HAS TO be the same as the `akka.management.http.port`
        # it would not have to be once we implement the SRV record watching, since then we could potentially
        # get the ports from the DNS records.
        fallback-port = 8558
      }
    }
  }

}
